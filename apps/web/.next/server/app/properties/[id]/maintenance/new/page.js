(()=>{var e={};e.id=12,e.ids=[12],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},1736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>g,tree:()=>d}),r(7900),r(2567),r(7824);var n=r(3282),s=r(5736),i=r(3906),a=r.n(i),l=r(6880),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["properties",{children:["[id]",{children:["maintenance",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7900)),"C:\\Users\\User\\Desktop\\immowaechter\\apps\\web\\app\\properties\\[id]\\maintenance\\new\\page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2567)),"C:\\Users\\User\\Desktop\\immowaechter\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7824,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\User\\Desktop\\immowaechter\\apps\\web\\app\\properties\\[id]\\maintenance\\new\\page.tsx"],m="/properties/[id]/maintenance/new/page",u={require:r,loadChunk:()=>Promise.resolve()},g=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/properties/[id]/maintenance/new/page",pathname:"/properties/[id]/maintenance/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8478:(e,t,r)=>{Promise.resolve().then(r.bind(r,8740))},3016:(e,t,r)=>{Promise.resolve().then(r.bind(r,445))},9103:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4424,23)),Promise.resolve().then(r.t.bind(r,7752,23)),Promise.resolve().then(r.t.bind(r,5275,23)),Promise.resolve().then(r.t.bind(r,9842,23)),Promise.resolve().then(r.t.bind(r,1633,23)),Promise.resolve().then(r.t.bind(r,9224,23))},8740:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(3227),s=r(3677),i=r(7517),a=r(1043),l=r(649);function o({params:e}){(0,a.useRouter)();let[t,r]=(0,s.useState)(null),[o,d]=(0,s.useState)([]),[c,m]=(0,s.useState)(!0),[u,g]=(0,s.useState)(!1),[p,h]=(0,s.useState)(""),[x,b]=(0,s.useState)({interval_id:"",custom_name:"",brand:"",model:"",installation_date:"",last_maintenance:""}),f=(e,t)=>{let r=new Date(new Date(e));return r.setMonth(r.getMonth()+t),r.toISOString().split("T")[0]},v=async t=>{t.preventDefault(),g(!0),h("");try{let t=o.find(e=>e.id===x.interval_id);if(!t){h("Bitte w\xe4hle einen Wartungstyp aus"),g(!1);return}let r=f(x.last_maintenance,t.interval_months),{error:n}=await i.O.from("components").insert({property_id:e.id,interval_id:x.interval_id,custom_name:x.custom_name||null,brand:x.brand||null,model:x.model||null,installation_date:x.installation_date||null,last_maintenance:x.last_maintenance,next_maintenance:r,is_active:!0});if(n){h(n.message),g(!1);return}window.location.href=`/properties/${e.id}`}catch(e){h(e.message||"Ein Fehler ist aufgetreten"),g(!1)}};if(c)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"L\xe4dt..."})]})});if(p&&!t)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Fehler"}),n.jsx("p",{className:"text-gray-600 mb-4",children:p}),n.jsx(l.default,{href:"/dashboard",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:"← Zur\xfcck zum Dashboard"})]})});let j=o.find(e=>e.id===x.interval_id),y=o.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{});return n.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsxs)(l.default,{href:`/properties/${e.id}`,className:"text-indigo-600 hover:text-indigo-800 font-medium mb-2 inline-block",children:["← Zur\xfcck zu ",t?.name]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Wartung hinzuf\xfcgen"}),n.jsx("p",{className:"text-gray-600",children:"W\xe4hle einen Wartungstyp und trage die letzte Wartung ein"})]}),p&&(0,n.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-600 p-4 rounded-lg mb-6",children:["⚠️ ",p]}),(0,n.jsxs)("form",{onSubmit:v,className:"bg-white p-8 rounded-lg shadow space-y-6",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Wartungstyp *"}),(0,n.jsxs)("select",{value:x.interval_id,onChange:e=>b({...x,interval_id:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Bitte w\xe4hlen..."}),Object.keys(y).map(e=>n.jsx("optgroup",{label:e,children:y[e].map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.component," (",1===e.interval_months?"monatlich":`alle ${e.interval_months} Monate`,")",e.legal_requirement&&" ⚖️"]},e.id))},e))]}),j&&(0,n.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:[(0,n.jsxs)("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Info:"})," ",j.description]}),j.legal_requirement&&(0,n.jsxs)("p",{className:"text-sm text-blue-800 mt-1",children:["⚖️ ",n.jsx("strong",{children:"Gesetzlich vorgeschrieben"})," ",j.oib_reference&&`(${j.oib_reference})`]}),j.cost_estimate_from&&(0,n.jsxs)("p",{className:"text-sm text-blue-800 mt-1",children:["\uD83D\uDCB0 Kosten: ca. €",j.cost_estimate_from," - €",j.cost_estimate_to]})]})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Eigene Bezeichnung (optional)"}),n.jsx("input",{type:"text",placeholder:"z.B. Gastherme Keller",value:x.custom_name,onChange:e=>b({...x,custom_name:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hilft dir, die Komponente zu identifizieren"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Marke (optional)"}),n.jsx("input",{type:"text",placeholder:"z.B. Vaillant",value:x.brand,onChange:e=>b({...x,brand:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Modell (optional)"}),n.jsx("input",{type:"text",placeholder:"z.B. ecoTEC plus",value:x.model,onChange:e=>b({...x,model:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Installationsdatum (optional)"}),n.jsx("input",{type:"date",value:x.installation_date,onChange:e=>b({...x,installation_date:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Letzte Wartung *"}),n.jsx("input",{type:"date",value:x.last_maintenance,onChange:e=>b({...x,last_maintenance:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",max:new Date().toISOString().split("T")[0],required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Wann wurde die letzte Wartung durchgef\xfchrt?"})]}),x.last_maintenance&&j&&n.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,n.jsxs)("p",{className:"text-sm font-medium text-green-900",children:["\uD83D\uDCC5 N\xe4chste Wartung f\xe4llig: ",n.jsx("strong",{children:f(x.last_maintenance,j.interval_months)})]})}),(0,n.jsxs)("div",{className:"flex gap-4 pt-4",children:[n.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-indigo-600 text-white py-3 px-6 rounded-lg font-bold hover:bg-indigo-700 transition disabled:opacity-50",children:u?"Wird gespeichert...":"✅ Wartung hinzuf\xfcgen"}),n.jsx(l.default,{href:`/properties/${e.id}`,className:"px-6 py-3 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50 transition text-center",children:"Abbrechen"})]})]})]})})}},7517:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});let n=(0,r(4883).eI)("https://cfggqkjogprlzikzxijc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNmZ2dxa2pvZ3BybHppa3p4aWpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2MzQzMDksImV4cCI6MjA3NjIxMDMwOX0.gyIVDXpqTWpZjKzE1qmI-ObeIb0D6pIoZPfwu3gtzpk")},2567:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>o});var n=r(9013),s=r(8747),i=r.n(s);r(1);var a=r(5918);let l="https://immowaechter.at",o={title:"ImmoW\xe4chter - Nie wieder Wartungen vergessen | \xd6sterreich & Deutschland",description:"648 Wartungen werden j\xe4hrlich in \xd6sterreich vergessen – geh\xf6rt Ihre dazu? ImmoW\xe4chter erinnert Sie rechtzeitig an gesetzlich vorgeschriebene Wartungen, zeigt Energie-Einsparpotenziale und findet verf\xfcgbare F\xf6rderungen.",keywords:["Wartungserinnerung","Immobilienverwaltung","Gasthermen-Service","Rauchfangkehrer","F\xf6rderungen \xd6sterreich","Heizungswartung","CO-Vergiftung Pr\xe4vention","OIB-Richtlinien","Energieberatung","Sanierungsf\xf6rderung"],authors:[{name:"ImmoW\xe4chter Team"}],creator:"ImmoW\xe4chter",publisher:"ImmoW\xe4chter",alternates:{canonical:l,languages:{"de-AT":"https://www.immowaechter.at","de-DE":"https://www.immowaechter.de"}},openGraph:{type:"website",locale:"de_AT",url:l,title:"ImmoW\xe4chter - Nie wieder Wartungen vergessen",description:"648 Wartungen werden j\xe4hrlich in \xd6sterreich vergessen. ImmoW\xe4chter erinnert Sie rechtzeitig an alle wichtigen Termine.",siteName:"ImmoW\xe4chter",images:[{url:`${l}/og-image.png`,width:1200,height:630,alt:"ImmoW\xe4chter - Digitaler Wartungsassistent"}]},twitter:{card:"summary_large_image",title:"ImmoW\xe4chter - Nie wieder Wartungen vergessen",description:"648 Wartungen werden j\xe4hrlich vergessen in \xd6sterreich. Jetzt auf Warteliste!",images:[`${l}/og-image.png`],creator:"@immowaechter"},icons:{icon:[{url:"/favicon-96x96.png",sizes:"96x96",type:"image/png"},{url:"/favicon.svg",type:"image/svg+xml"},{url:"/favicon.ico"}],apple:[{url:"/apple-touch-icon.png",sizes:"180x180",type:"image/png"}]},manifest:"/site.webmanifest",robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}}};function d({children:e}){return(0,n.jsxs)("html",{lang:"de-AT",children:[(0,n.jsxs)("head",{children:[n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),n.jsx("meta",{name:"theme-color",content:"#DC2626"}),n.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),n.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),(0,n.jsxs)("body",{className:i().className,children:[e,n.jsx(a.c,{})]})]})}},7900:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(3189).createProxy)(String.raw`C:\Users\User\Desktop\immowaechter\apps\web\app\properties\[id]\maintenance\new\page.tsx#default`)},1:()=>{}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[193,412,883,106],()=>r(1736));module.exports=n})();